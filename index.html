<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>ä¸²å£åŠ©æ‰‹</title>
    <link rel="stylesheet" href="./index_style.css">
  </head>

  <body>
    <div class="titlebar">
      ä¸²å£åŠ©æ‰‹
      <div class="window-controls">
        <button id="min-btn" title="æœ€å°åŒ–">ğŸ—•</button>
        <button id="max-btn" title="æœ€å¤§åŒ–">ğŸ—–</button>
        <button id="close-btn" title="å…³é—­">âœ–</button>
      </div>
    </div>

    <div class="app-container">
      <!-- æ‚¬æµ®ä¾§è¾¹æ  -->
      <div id="sidebar">
        <!-- åˆ‡æ¢æŒ‰é’® -->
        <div class="sidebar-toggle-btn" onclick="toggleSidebar()" title="åˆ‡æ¢èœå•">
          â˜°
        </div>
        <ul>
          <li onclick="switchPage('serial')">ä¸²å£åŠ©æ‰‹</li>
          <li onclick="switchPage('state_generate')">çŠ¶æ€æœºç”Ÿæˆ</li>
          <li onclick="switchPage('monitor')">ç›‘æµ‹æœº</li>
          <li onclick="switchPage('setting')">è®¾ç½®</li>
          <li onclick="switchPage('about')">å…³äº</li>
        </ul>
      </div>

      <!-- å³ä¾§å†…å®¹åŒº -->
      <div id="main-content">
        <!-- å†…å®¹å°†ç”±ä¸åŒé¡µé¢å¡«å…… -->
      </div>
    </div>

    <!-- è‡ªå®šä¹‰å¼¹çª— -->
    <div id="custom-alert" style="display:none;">
      <div>
        <div id="custom-alert-msg"></div>
        <button id="custom-alert-btn">ç¡®å®š</button>
      </div>
    </div>

    <!-- é€šçŸ¥å¼¹çª—å®¹å™¨ -->
    <div id="toast-notify">
    </div>

    <script src="./renderer.js"></script>
    <script>
      document.getElementById('min-btn').onclick = () => window.windowAPI.minimize();
      document.getElementById('max-btn').onclick = () => window.windowAPI.maximize();
      document.getElementById('close-btn').onclick = () => window.windowAPI.close();

      // ä¾§è¾¹æ åˆ‡æ¢é€»è¾‘
      function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('collapsed');
      }
      
      // ç‚¹å‡»å°çƒæ—¶è‡ªåŠ¨å±•å¼€ï¼ˆå¦‚æœå½“å‰æ˜¯æŠ˜å çŠ¶æ€ï¼‰
      document.getElementById('sidebar').addEventListener('click', function(e) {
        // å¦‚æœç‚¹å‡»çš„æ˜¯å…·ä½“çš„lièœå•é¡¹ï¼Œä¸è¦è§¦å‘è¿™é‡Œçš„å±•å¼€é€»è¾‘ï¼Œé¿å…å†²çª
        if (e.target.tagName === 'LI') return;
        
        // å¦‚æœå½“å‰æ˜¯æŠ˜å çŠ¶æ€ï¼Œä¸”ç‚¹å‡»çš„ä¸æ˜¯toggleæŒ‰é’®æœ¬èº«ï¼ˆé˜²æ­¢åŒé‡è§¦å‘ï¼‰ï¼Œåˆ™å±•å¼€
        if (this.classList.contains('collapsed') && !e.target.classList.contains('sidebar-toggle-btn')) {
           this.classList.remove('collapsed');
        }
      });
    </script>
  </body>
</html>
